---
name: hello
description: リポジトリを初めて開いた人向けのガイドツアー。「このリポジトリ何？」「どこから読めばいい？」などで起動。
---

# オンボーディングスキル

リポジトリを初めて触る人に、コードベースを理解度を確認しながら案内する。

## トリガー

- 「このリポジトリ何？」
- 「どこから読めばいい？」
- 「コードの読み方教えて」
- 「オンボーディング」
- 「案内して」

---

## Phase 0: ガイドの準備

### hello.md の確認

まず `.claude/artifacts/hello.md` を確認する。

```bash
cat .claude/artifacts/hello.md
```

**ファイルが存在しない場合:**

1. ディレクトリを作成
2. 初期テンプレートで hello.md を作成

```bash
mkdir -p .claude/artifacts
```

初期テンプレート:

```markdown
# Welcome to {プロジェクト名}

このファイルは新しくリポジトリを開いた人向けのガイドです。

## プロジェクト概要

{README.md や package.json から要約}

## クイックスタート

1. `npm install`
2. `npm run dev`

## ディレクトリ構成

{主要ディレクトリの説明}

## よくある質問

{オンボーディング中に出た質問を追記していく}
```

**ファイルが存在する場合:**

hello.md の内容を読んで、案内の参考にする。

---

## 進め方

**重要**: 一方的に説明しない。必ず理解度を確認しながら進める。

1. 一度に説明するのは 1〜2 トピックまで
2. 説明後は必ず AskUserQuestion で確認
3. 分からないところがあれば深掘り
4. 相手のペースに合わせる

---

## Phase 1: 全体像の把握

### 1.1 プロジェクトの目的

まず何を作っているか説明する。

確認する情報:
- `.claude/artifacts/hello.md`（あれば優先）
- README.md
- package.json の description / name
- `.docs/` があれば overview.md

```
このリポジトリは〇〇を目的としたプロジェクトゆ。

主な機能:
- △△
- □□

ここまでで質問ある？
```

→ AskUserQuestion で理解度確認

### 1.2 技術スタック

使っている技術を説明する。

確認する情報:
- package.json の dependencies
- 設定ファイル（tsconfig.json, vite.config.ts など）

```
技術スタック:
- フレームワーク: 〇〇
- 言語: TypeScript
- その他: △△

この中で馴染みがないものはある？
```

→ AskUserQuestion で確認、必要なら補足説明

---

## Phase 2: ディレクトリ構成

### 2.1 トップレベル構成

```bash
ls -la
```

主要ディレクトリを説明:

```
ディレクトリ構成:
- src/      : メインのソースコード
- app/      : ルーティング（フレームワークによる）
- components/ : UIコンポーネント
- lib/      : ユーティリティ
- tests/    : テストコード

どのディレクトリから見たい？
```

→ AskUserQuestion で興味のある場所を聞く

### 2.2 選択されたディレクトリを深掘り

ユーザーが選んだディレクトリを詳しく説明:

1. ディレクトリの役割
2. 主要なファイル 2〜3 個をピックアップ
3. 実際のコードを少し見せる

```
src/components/ の中身:
- Button.tsx : 基本ボタン
- Modal.tsx  : モーダルダイアログ
- ...

一つ実際に見てみる？どれがいい？
```

---

## Phase 3: コードの読み方

### 3.1 エントリーポイント

アプリの起動点を説明:

- main.tsx / index.tsx
- app/routes/ のルート定義
- API のエンドポイント定義

```
アプリは〇〇から始まるゆ。
ここでやってること:
1. △△の初期化
2. □□の設定
3. アプリのマウント

流れは掴めた？
```

### 3.2 データの流れ

リクエスト〜レスポンスまたはユーザー操作〜画面更新の流れを追う:

```
例えばユーザーがログインするとき:
1. LoginForm でフォーム送信
2. auth.server.ts で認証処理
3. session に保存
4. ダッシュボードにリダイレクト

この流れ、コードで追ってみる？
```

---

## Phase 4: 開発の始め方

### 4.1 ローカル環境

```bash
# セットアップコマンドを確認
cat package.json | jq '.scripts'
```

```
開発を始めるには:
1. npm install (依存関係インストール)
2. npm run dev (開発サーバー起動)
3. http://localhost:3000 で確認

他に必要な設定（.env など）があれば説明。
```

### 4.2 よくある開発タスク

```
よくやる作業:
- 新しいページ追加 → app/routes/ に作成
- コンポーネント追加 → components/ に作成
- API 追加 → app/api/ または routes に作成

何か実際にやってみたいことある？
```

---

## Phase 5: hello.md の更新

オンボーディング中に以下があれば hello.md を更新する:

### 更新するタイミング

1. **説明が伝わりづらかった箇所**
   - より分かりやすい表現に書き換え
   - 具体例を追加

2. **ユーザーから質問があった内容**
   - 「よくある質問」セクションに追加
   - 関連する説明を補足

3. **説明が不足していた箇所**
   - 新しいセクションを追加
   - 既存の説明を拡充

4. **プロジェクト固有の注意点**
   - ハマりやすいポイント
   - 暗黙知だった情報

### 更新例

```markdown
## よくある質問

### Q: 〇〇ってどこにある？
A: `src/lib/〇〇.ts` にあるゆ。△△で使われてる。

### Q: □□の設定方法は？
A: `.env` に `KEY=value` を追加する必要があるゆ。
```

### 更新時の注意

- 元の構成を大きく変えない
- 追記は末尾または該当セクションに
- 専門用語には簡単な説明を添える
- 次にオンボーディングする人が読むことを意識

---

## 確認のコツ

AskUserQuestion の使い方:

```typescript
// 理解度確認
{
  question: "ここまでの説明で分からないところはある？",
  options: [
    { label: "大丈夫、次に進んで", description: "理解できた" },
    { label: "もう少し詳しく", description: "説明を深掘りしたい" },
    { label: "実際のコードを見たい", description: "具体例が欲しい" }
  ]
}

// 興味の確認
{
  question: "どの部分をもっと知りたい？",
  options: [
    { label: "フロントエンド", description: "UI・コンポーネント周り" },
    { label: "バックエンド", description: "API・データ処理" },
    { label: "インフラ", description: "デプロイ・設定" },
    { label: "テスト", description: "テストの書き方" }
  ]
}
```

---

## 注意事項

- 専門用語は相手のレベルに合わせる
- 長い説明は避け、対話的に進める
- 「分からない」は歓迎、責めない
- 相手が興味を持った部分を優先する
- 一度に全部説明しようとしない
- **伝わりづらかったら hello.md を改善する**
